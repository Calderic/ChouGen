#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# TypeScript ç±»å‹æ£€æŸ¥ï¼ˆå¿«é€Ÿï¼‰
echo "ğŸ“˜ Checking TypeScript types..."
npm run type-check || {
  echo "âŒ TypeScript type check failed. Please fix the errors before pushing."
  exit 1
}

# ESLint æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶ï¼ˆå¸¦ç¼“å­˜ï¼Œå¿«é€Ÿï¼‰
echo "ğŸ” Linting all files..."
npm run lint || {
  echo "âŒ ESLint check failed. Please fix the errors before pushing."
  exit 1
}

echo "âœ… All pre-push checks passed!"
echo "ğŸ’¡ Tip: Build check will run in CI/CD"
